<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>點餐系統</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f7f7f7;
        }
        h1, h2 {
            text-align: center;
        }
        #categories {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        #categories button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #categories button:hover {
            background-color: #0056b3;
        }
        #menu {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .menu-item {
            background-color: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 150px;
            display: none; /* 預設隱藏 */
        }
        .menu-item.active {
            display: block; /* 顯示當前分類的菜單 */
        }
        .menu-item button {
            margin-top: 10px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .menu-item button:hover {
            background-color: #0056b3;
        }
        #order {
            margin-top: 20px;
            list-style: none;
            padding: 0;
        }
        #order li {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        #total {
            text-align: right;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
        }
        #reset-button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #reset-button:hover {
            background-color: #a71d2a;
        }
        /* 彈窗樣式 */
        #popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            display: none;
            text-align: center;
            width: 300px;
            z-index: 1000;
        }
        #popup button {
            margin: 10px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #popup button:hover {
            background-color: #0056b3;
        }
        #popup .close {
            background-color: #dc3545;
        }
        #popup .close:hover {
            background-color: #a71d2a;
        }
    </style>
</head>
<body>
    <h1>點餐系統</h1>

    <!-- 分類按鈕 -->
    <div id="categories">
        <button onclick="toggleCategory('teppanyaki')">鐵板類</button>
        <button onclick="toggleCategory('fried-noodles')">炒麵類</button>
        <button onclick="toggleCategory('fried-rice')">炒飯類</button>
        <button onclick="toggleCategory('braised-rice')">燴飯類</button>
        <button onclick="toggleCategory('soup-noodles')">湯麵類</button>
        <button onclick="toggleCategory('soups')">現煮湯類</button>
        <button onclick="toggleCategory('three-cup')">三杯類</button>
        <button onclick="toggleCategory('fried')">酥炸類</button>
        <button onclick="toggleCategory('vegetables')">青菜類</button>
        <button onclick="toggleCategory('stir-fried')">熱炒類</button>
        <button onclick="toggleCategory('fried-egg')">煎蛋類</button>
        <button onclick="toggleCategory('extras')">加點類</button>
    </div>

    <!-- 菜單區 -->
    <div id="menu">
        <!-- 鐵板類 -->
        <div class="menu-item teppanyaki">
            <p>鐵板羊肉</p>
            <p>140元</p>
            <button onclick="showPopup('鐵板羊肉', 140, 'teppanyaki')">加到訂單</button>
        </div>
        <div class="menu-item teppanyaki">
            <p>鐵板牛柳</p>
            <p>140元</p>
            <button onclick="showPopup('鐵板牛柳', 140, 'teppanyaki')">加到訂單</button>
        </div>
        <div class="menu-item teppanyaki">
            <p>鐵板豬柳</p>
            <p>140元</p>
            <button onclick="showPopup('鐵板豬柳', 140, 'teppanyaki')">加到訂單</button>
        </div>
        <div class="menu-item teppanyaki">
            <p>鐵板雞柳</p>
            <p>140元</p>
            <button onclick="showPopup('鐵板雞柳', 140, 'teppanyaki')">加到訂單</button>
        </div>
        <div class="menu-item teppanyaki">
            <p>鐵板鮮柯</p>
            <p>140元</p>
            <button onclick="showPopup('鐵板鮮柯', 140, 'teppanyaki')">加到訂單</button>
        </div>
        <div class="menu-item teppanyaki">
            <p>鐵板</p>
            <p>95元</p>
            <button onclick="showPopup('鐵板鮮柯', 95, 'teppanyaki')">加到訂單</button>
        </div>
        <!-- 炒麵類 -->
        <div class="menu-item fried-noodles">
            <p>海鮮</p>
            <p>110元</p>
            <button onclick="showPopup('海鮮', 110, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-noodles">
            <p>蝦仁</p>
            <p>110元</p>
            <button onclick="showPopup('蝦仁', 110, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-noodles">
            <p>蚵仔</p>
            <p>110元</p>
            <button onclick="showPopup('蚵仔', 110, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-noodles">
            <p>羊肉</p>
            <p>100元</p>
            <button onclick="showPopup('羊肉', 100, 'fried-noodles')">加到訂單</button>
        </div>     
        <div class="menu-item fried-noodles">
            <p>牛肉</p>
            <p>100元</p>
            <button onclick="showPopup('牛肉', 100, 'fried-noodles')">加到訂單</button>
        </div>    
        <div class="menu-item fried-noodles">
            <p>肉絲</p>
            <p>90元</p>
            <button onclick="showPopup('肉絲', 90, 'fried-noodles')">加到訂單</button>
        </div>  
        <div class="menu-item fried-noodles">
            <p>豬肝</p>
            <p>90元</p>
            <button onclick="showPopup('豬肝', 90, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-noodles">
            <p>炒麵</p>
            <p>85元</p>
            <button onclick="showPopup('炒麵', 85, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>鮭魚機粒炒飯</p>
            <p>110元</p>
            <button onclick="addItem('鮭魚機粒炒飯', 110, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>綜合炒飯</p>
            <p>110元</p>
            <button onclick="addItem('綜合炒飯', 110, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>蝦仁炒飯</p>
            <p>110元</p>
            <button onclick="addItem('蝦仁炒飯', 110, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>鮭魚炒飯</p>
            <p>110元</p>
            <button onclick="addItem('鮭魚炒飯', 110, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>羊肉炒飯</p>
            <p>110元</p>
            <button onclick="addItem('羊肉炒飯', 110, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>牛肉炒飯</p>
            <p>100元</p>
            <button onclick="addItem('牛肉炒飯', 100, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>櫻花蝦炒飯</p>
            <p>100元</p>
            <button onclick="addItem('櫻花蝦炒飯', 100, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>鹹豬肉炒飯</p>
            <p>100元</p>
            <button onclick="addItem('鹹豬肉炒飯', 100, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>泡菜炒飯</p>
            <p>100元</p>
            <button onclick="addItem('泡菜炒飯', 100, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>香腸炒飯</p>
            <p>95元</p>
            <button onclick="addItem('香腸炒飯', 95, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>肉絲炒飯</p>
            <p>90元</p>
            <button onclick="addItem('肉絲炒飯', 90, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>火腿炒飯</p>
            <p>90元</p>
            <button onclick="addItem('火腿炒飯', 90, 'fried-noodles')">加到訂單</button>
        </div>
        <div class="menu-item fried-rice">
            <p>蛋炒飯</p>
            <p>85元</p>
            <button onclick="addItem('蛋炒飯', 85, 'fried-noodles')">加到訂單</button>
        </div>
        <!-- 其他分類菜單項目... -->
    </div>

    <!-- 訂單明細 -->
    <h2>訂單明細</h2>
    <ul id="order"></ul>
    <div id="total">總金額：0元</div>
    <button id="reset-button" onclick="resetOrder()">重置訂單</button>

    <!-- 彈窗 -->
    <div id="popup">
        <h2>選擇搭配</h2>
        <p id="popup-item-name"></p>
        <div id="popup-options">
            <!-- 選擇項目會動態生成 -->
        </div>
        <button class="close" onclick="closePopup()">取消</button>
    </div>

    <script>
        let total = 0;
        let currentItem = {}; // 用來存儲當前菜品資料
        let currentCategory = ''; // 用來存儲當前選擇的分類

        // 顯示彈窗
        function showPopup(name, price, category) {
            currentItem = { name, price };
            currentCategory = category; // 存儲當前菜品分類

            document.getElementById('popup-item-name').textContent = `${name} - ${price}元`;

            // 動態更新選項
            const optionsDiv = document.getElementById('popup-options');
            optionsDiv.innerHTML = ''; // 清空現有選項

            if (category === 'teppanyaki') {
                optionsDiv.innerHTML = `
                    <button onclick="addItemWithChoiceOption('麵')">麵</button>
                    <button onclick="addItemWithChoiceOption('飯')">飯</button>
                `;
            } else if (category === 'fried-noodles') {
                optionsDiv.innerHTML = `
                    <button onclick="addItemWithChoiceOption('麵')">麵</button>
                    <button onclick="addItemWithChoiceOption('烏龍麵')">烏龍麵</button>
                `;
            }

            document.getElementById('popup').style.display = 'block';
        }

        // 關閉彈窗
        function closePopup() {
            document.getElementById('popup').style.display = 'none';
            currentItem = {}; // 清空當前菜品資料
            currentCategory = ''; // 清空當前選擇的分類
        }

        // 針對需要選擇的菜品加入訂單
        function addItemWithChoiceOption(choice) {
            const orderList = document.getElementById('order');
            const totalElement = document.getElementById('total');

            // 新增訂單項目
            const listItem = document.createElement('li');
            listItem.textContent = `${currentItem.name} (${choice}) - ${currentItem.price}元`;
            orderList.appendChild(listItem);

            // 更新總金額
            total += currentItem.price;
            totalElement.textContent = `總金額：${total}元`;

            // 關閉彈窗
            closePopup();
        }

        // 一般品項直接加入訂單
        function addItem(name, price, category) {
            const orderList = document.getElementById('order');
            const totalElement = document.getElementById('total');

            // 新增訂單項目
            const listItem = document.createElement('li');
            listItem.textContent = `${name} - ${price}元`;
            orderList.appendChild(listItem);

            // 更新總金額
            total += price;
            totalElement.textContent = `總金額：${total}元`;
        }

        // 重置訂單
        function resetOrder() {
            document.getElementById('order').innerHTML = '';
            total = 0;
            document.getElementById('total').textContent = '總金額：0元';
        }

        // 顯示或隱藏分類
        function toggleCategory(category) {
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                if (item.classList.contains(category)) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>